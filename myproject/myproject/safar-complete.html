<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safar - Complete Travel Website</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <!-- Remix Icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
/* Global Variables */
:root {
    --primary: #FF7043; /* Sunset Orange */
    --secondary: #29B6F6; /* Sky Blue */
    --dark: #263238;
    --light: #ECEFF1;
    --white: #FFFFFF;
    --success: #66BB6A;
    --danger: #EF5350;
    --shadow: 0 4px 6px rgba(0,0,0,0.1);
    --radius: 12px;
    --font-heading: 'Poppins', sans-serif;
    --font-body: 'Inter', sans-serif;
}

/* Reset & Base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-body);
    background-color: #F5F7FA;
    color: var(--dark);
    line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    font-weight: 600;
}

a {
    text-decoration: none;
    color: inherit;
}

button {
    cursor: pointer;
    border: none;
    outline: none;
    font-family: inherit;
}

/* Utilities */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.btn {
    padding: 12px 24px;
    border-radius: 50px;
    font-weight: 600;
    transition: transform 0.2s, box-shadow 0.2s;
    display: inline-block;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary), #FF5722);
    color: var(--white);
    box-shadow: 0 4px 15px rgba(255, 87, 34, 0.3);
}

.btn-secondary {
    background: var(--white);
    color: var(--primary);
    border: 2px solid var(--primary);
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

.section-title {
    text-align: center;
    margin-bottom: 40px;
    font-size: 2.5rem;
    color: var(--dark);
}

.card {
    background: var(--white);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    overflow: hidden;
    transition: transform 0.3s;
}

.card:hover {
    transform: translateY(-5px);
}

/* Navigation */
nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 0;
}

.logo {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary);
}

.nav-links {
    display: flex;
    gap: 20px;
}

.nav-links a {
    color: var(--dark);
    font-weight: 500;
    transition: color 0.3s;
}

.nav-links a:hover {
    color: var(--primary);
}

/* Floating AI Button */
.ai-fab {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    background: var(--secondary);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--white);
    font-size: 24px;
    box-shadow: 0 4px 15px rgba(41, 182, 246, 0.4);
    z-index: 1000;
    cursor: pointer;
    transition: transform 0.3s;
}

.ai-fab:hover {
    transform: scale(1.1);
}

/* Home Page Specifics */
.hero {
    background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://source.unsplash.com/1600x900/?india,travel');
    background-size: cover;
    background-position: center;
    color: var(--white);
    padding: 100px 0 150px;
    text-align: center;
    border-radius: 0 0 50px 50px;
    margin-bottom: 50px;
}

.hero h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
}

.search-box {
    background: var(--white);
    padding: 20px;
    border-radius: var(--radius);
    margin-top: 40px;
    display: inline-block;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 900px;
}

.search-box form {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    justify-content: center;
}

.input-group {
    background: #F5F7FA;
    padding: 10px 20px;
    border-radius: 50px;
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
    min-width: 200px;
}

.input-group input, .input-group select {
    border: none;
    background: transparent;
    width: 100%;
    outline: none;
    font-size: 1rem;
    color: var(--dark);
}

.quick-tags {
    margin-top: 20px;
    font-size: 0.9rem;
}

.quick-tags a {
    color: var(--secondary);
    background: rgba(255,255,255,0.2);
    padding: 5px 15px;
    border-radius: 20px;
    margin-left: 10px;
    text-decoration: none;
}

.quick-tags a:hover {
    background: var(--white);
    color: var(--dark);
}

.destinations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    text-align: center;
}

.feature-card {
    background: var(--white);
    padding: 30px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
}

/* Login Page Styles */
.auth-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #4FC3F7, #29B6F6);
    padding: 20px;
}

.auth-card {
    background: var(--white);
    border-radius: var(--radius);
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 450px;
    overflow: hidden;
}

.auth-header {
    background: linear-gradient(135deg, #4FC3F7, #29B6F6);
    color: var(--white);
    padding: 40px 30px;
    text-align: center;
}

.auth-form {
    padding: 40px 30px;
}

.tab-btn.active {
    background: #4FC3F7;
    color: var(--white);
}

.auth-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #4FC3F7, #29B6F6);
    color: var(--white);
    border: none;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.2s;
    margin-bottom: 20px;
}

.form-group input:focus {
    border-color: #4FC3F7;
}

.social-btn:hover {
    border-color: #4FC3F7;
    transform: translateY(-1px);
}

.auth-links a {
    color: #4FC3F7;
    text-decoration: none;
    font-weight: 500;
}

/* Vlogs Page Styles */
.vlog-hero {
    background: linear-gradient(135deg, rgba(255, 112, 67, 0.9), rgba(41, 182, 246, 0.9)), url('https://images.unsplash.com/photo-1615841959168-8e3b3c4b0e6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1632&q=80');
    background-size: cover;
    background-position: center;
    color: var(--white);
    padding: 100px 0;
    text-align: center;
}

.vlog-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    margin-top: 50px;
}

.vlog-card {
    background: var(--white);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    overflow: hidden;
    transition: transform 0.3s;
    cursor: pointer;
}

.vlog-card:hover {
    transform: translateY(-5px);
}

.vlog-thumbnail {
    position: relative;
    height: 200px;
    overflow: hidden;
}

.vlog-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.vlog-play-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.7);
    border-radius: 50%;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--white);
    font-size: 24px;
}

.video-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 1000;
}

.video-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--white);
    border-radius: var(--radius);
    width: 90%;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero h1 {
        font-size: 2.5rem;
    }

    .search-box form {
        flex-direction: column;
    }

    .input-group {
        min-width: auto;
    }

    nav {
        flex-direction: column;
        gap: 20px;
    }

    .nav-links {
        justify-content: center;
    }
}
    </style>
</head>
<body>

    <!-- Navigation -->
    <nav class="container">
        <div class="logo">Safar<span style="color:var(--secondary)">.com</span></div>
        <div class="nav-links">
            <a href="#home" class="active">Home</a>
            <a href="#planner">Plan Trip</a>
            <a href="#ai-guide">AI Guide</a>
            <a href="#vlogs">Vlogs</a>
            <a href="#profile">Profile</a>
            <a href="#login">Login</a>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home">
        <!-- Hero Section -->
        <header class="hero">
            <div class="container hero-content">
                <h1>Travel Smart, <br> Explore Freely.</h1>
                <p>Your AI-powered guide for budget-friendly, safe, and immersive travel experiences across India.</p>

                <!-- Smart Search Bar -->
                <div class="search-box">
                    <form action="#search" method="GET" id="searchForm">
                        <div class="input-group">
                            <i class="ri-map-pin-line"></i>
                            <input type="text" name="destination" list="destinationsList" placeholder="Where to? (e.g. Kerala)" required>
                            <datalist id="destinationsList">
                                <!-- Populated by JS -->
                            </datalist>
                        </div>
                        <div class="input-group">
                            <i class="ri-wallet-3-line"></i>
                            <select name="budget">
                                <option value="">Any Budget</option>
                                <option value="Low">Low (₹)</option>
                                <option value="Medium">Medium (₹₹)</option>
                                <option value="High">Luxury (₹₹₹)</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Search</button>
                    </form>
                </div>
            </div>
        </header>

        <!-- Popular Destinations -->
        <section class="container" style="margin-bottom: 80px;">
            <h2 class="section-title">Popular Destinations</h2>
            <div class="destinations-grid" id="popularDestinations">
                <!-- Destinations will be loaded here -->
            </div>
        </section>

        <!-- Features -->
        <section class="container" style="margin-bottom: 80px;">
            <h2 class="section-title">Why Choose Safar?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <i class="ri-robot-line" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                    <h3>AI-Powered Planning</h3>
                    <p>Get personalized itineraries based on your preferences, budget, and travel style.</p>
                </div>
                <div class="feature-card">
                    <i class="ri-money-rupee-circle-line" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                    <h3>Budget-Friendly</h3>
                    <p>Find the best deals and optimize your spending with our cost-saving recommendations.</p>
                </div>
                <div class="feature-card">
                    <i class="ri-shield-check-line" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                    <h3>Safe & Reliable</h3>
                    <p>Travel with confidence using our verified information and safety guidelines.</p>
                </div>
                <div class="feature-card">
                    <i class="ri-global-line" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                    <h3>Local Insights</h3>
                    <p>Discover hidden gems and authentic experiences through local recommendations.</p>
                </div>
            </div>
        </section>
    </section>

    <!-- Trip Planner Section -->
    <section id="planner" style="background: var(--light); padding: 80px 0;">
        <div class="container">
            <h2 class="section-title">Plan Your Perfect Trip</h2>
            <div style="max-width: 600px; margin: 0 auto;">
                <form id="tripForm" style="background: var(--white); padding: 40px; border-radius: var(--radius); box-shadow: var(--shadow);">
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Destination</label>
                        <input type="text" id="destination" placeholder="e.g. Kerala, Goa, Rajasthan" required style="width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 8px;">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Duration (days)</label>
                        <input type="number" id="duration" min="1" max="30" value="5" required style="width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 8px;">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Travel Type</label>
                        <select id="travelType" style="width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 8px;">
                            <option value="family">Family</option>
                            <option value="solo">Solo</option>
                            <option value="couple">Couple</option>
                            <option value="adventure">Adventure</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Daily Budget (₹)</label>
                        <input type="number" id="budget" min="500" max="50000" value="2000" required style="width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 8px;">
                    </div>
                    <div style="margin-bottom: 30px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Interests</label>
                        <input type="text" id="interests" placeholder="e.g. beaches, culture, food, adventure" style="width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 8px;">
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Generate Itinerary</button>
                </form>
            </div>

            <!-- Itinerary Display -->
            <div id="itineraryDisplay" style="display: none; margin-top: 50px;">
                <h3 style="text-align: center; margin-bottom: 30px;">Your Custom Itinerary</h3>
                <div id="itineraryContent" style="max-width: 800px; margin: 0 auto;">
                    <!-- Itinerary will be generated here -->
                </div>
            </div>
        </div>
    </section>

    <!-- AI Guide Section -->
    <section id="ai-guide" style="padding: 80px 0;">
        <div class="container">
            <h2 class="section-title">AI Travel Assistant</h2>
            <div style="max-width: 600px; margin: 0 auto;">
                <div id="chatContainer" style="background: var(--white); border-radius: var(--radius); box-shadow: var(--shadow); height: 500px; display: flex; flex-direction: column;">
                    <div id="chatMessages" style="flex: 1; padding: 20px; overflow-y: auto;">
                        <div class="message bot"><strong>Safar AI:</strong> Hello! I'm your AI travel assistant. Ask me anything about destinations, budgets, itineraries, or travel tips in India!</div>
                    </div>
                    <form id="chatForm" onsubmit="sendMessageFromInput(event)" style="padding: 20px; border-top: 1px solid #eee; display: flex; gap: 10px;">
                        <input type="text" id="messageInput" placeholder="Ask me about travel..." style="flex: 1; padding: 12px; border: 2px solid #eee; border-radius: 25px; outline: none;">
                        <button type="submit" class="btn btn-primary" style="border-radius: 50%; width: 50px; height: 50px; padding: 0; display: flex; align-items: center; justify-content: center;"><i class="ri-send-plane-line"></i></button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Vlogs Section -->
    <section id="vlogs">
        <div class="vlog-hero">
            <div class="container">
                <h1>Travel Vlogs & Local Insights</h1>
                <p>Discover insider tips from locals and fellow travelers. Share your experiences and help others explore India authentically.</p>
            </div>
        </div>

        <div class="container">
            <!-- Vlog Filters -->
            <div style="margin: 50px 0; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
                <button class="filter-btn active" data-filter="all">All Vlogs</button>
                <button class="filter-btn" data-filter="featured">Featured</button>
                <button class="filter-btn" data-filter="local">Local Guides</button>
                <button class="filter-btn" data-filter="budget-travel">Budget Travel</button>
                <button class="filter-btn" data-filter="food-tour">Food & Culture</button>
            </div>

            <!-- Search and Sort -->
            <div style="margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                <input type="text" id="vlogSearch" placeholder="Search vlogs..." style="flex: 1; min-width: 200px; padding: 12px; border: 2px solid #eee; border-radius: 25px; outline: none;">
                <select id="sortSelect" style="padding: 12px; border: 2px solid #eee; border-radius: 8px; outline: none;">
                    <option value="latest">Latest First</option>
                    <option value="popular">Most Popular</option>
                    <option value="liked">Most Liked</option>
                    <option value="oldest">Oldest First</option>
                </select>
            </div>

            <!-- Stats -->
            <div style="margin-bottom: 30px; display: flex; justify-content: center; gap: 40px; flex-wrap: wrap;">
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--primary);" id="totalVlogs">0</div>
                    <div style="color: #666;">Total Vlogs</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--primary);" id="totalViews">0</div>
                    <div style="color: #666;">Total Views</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--primary);" id="totalLikes">0</div>
                    <div style="color: #666;">Total Likes</div>
                </div>
            </div>

            <!-- Vlogs Grid -->
            <div class="vlog-grid" id="vlogsContainer">
                <!-- Vlogs will be loaded here -->
            </div>

            <!-- Upload Button -->
            <div style="text-align: center; margin-top: 50px;">
                <button class="btn btn-primary" id="uploadBtn" style="font-size: 1.1rem; padding: 15px 30px;">
                    <i class="ri-video-add-line" style="margin-right: 10px;"></i> Share Your Travel Story
                </button>
            </div>
        </div>
    </section>

    <!-- Profile Section -->
    <section id="profile" style="background: var(--light); padding: 80px 0;">
        <div class="container">
            <div style="max-width: 800px; margin: 0 auto;">
                <div class="profile-header" style="text-align: center; margin-bottom: 50px;">
                    <div style="width: 120px; height: 120px; background: var(--primary); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; color: var(--white); font-size: 3rem;">
                        <i class="ri-user-line"></i>
                    </div>
                    <h1>John Doe</h1>
                    <p style="color: #666;">Travel Enthusiast</p>
                </div>

                <div class="profile-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-bottom: 50px;">
                    <div style="background: var(--white); padding: 30px; border-radius: var(--radius); text-align: center; box-shadow: var(--shadow);">
                        <div style="font-size: 2rem; font-weight: bold; color: var(--primary);">12</div>
                        <div style="color: #666;">Trips Taken</div>
                    </div>
                    <div style="background: var(--white); padding: 30px; border-radius: var(--radius); text-align: center; box-shadow: var(--shadow);">
                        <div style="font-size: 2rem; font-weight: bold; color: var(--primary);">8</div>
                        <div style="color: #666;">Destinations</div>
                    </div>
                    <div style="background: var(--white); padding: 30px; border-radius: var(--radius); text-align: center; box-shadow: var(--shadow);">
                        <div style="font-size: 2rem; font-weight: bold; color: var(--primary);">₹45K</div>
                        <div style="color: #666;">Saved</div>
                    </div>
                    <div style="background: var(--white); padding: 30px; border-radius: var(--radius); text-align: center; box-shadow: var(--shadow);">
                        <div style="font-size: 2rem; font-weight: bold; color: var(--primary);">4.8</div>
                        <div style="color: #666;">Avg Rating</div>
                    </div>
                </div>

                <div class="profile-section" style="background: var(--white); padding: 30px; border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px;">Account Settings</h3>
                    <div style="display: grid; gap: 15px;">
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;"><i class="ri-user-settings-line" style="margin-right: 10px;"></i> Edit Profile</button>
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;"><i class="ri-notification-line" style="margin-right: 10px;"></i> Notification Preferences</button>
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;"><i class="ri-shield-line" style="margin-right: 10px;"></i> Privacy Settings</button>
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;"><i class="ri-logout-box-line" style="margin-right: 10px;"></i> Sign Out</button>
                    </div>
                </div>

                <div class="profile-section" style="background: var(--white); padding: 30px; border-radius: var(--radius); box-shadow: var(--shadow);">
                    <h3 style="margin-bottom: 20px;">Recent Trips</h3>
                    <div id="recentTrips">
                        <div class="trip-card" style="padding: 20px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 15px;">
                            <h4>Kerala Backwaters</h4>
                            <p><strong>Duration:</strong> 5 days</p>
                            <p><strong>Budget:</strong> ₹8,000</p>
                            <p><strong>Rating:</strong> ⭐⭐⭐⭐⭐</p>
                            <p style="font-style: italic; margin-top: 10px;">"Amazing experience with houseboat stay!"</p>
                        </div>
                        <div class="trip-card" style="padding: 20px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 15px;">
                            <h4>Goa Beaches</h4>
                            <p><strong>Duration:</strong> 4 days</p>
                            <p><strong>Budget:</strong> ₹6,000</p>
                            <p><strong>Rating:</strong> ⭐⭐⭐⭐⭐</p>
                            <p style="font-style: italic; margin-top: 10px;">"Perfect beach vacation!"</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Section -->
    <section id="login" style="padding: 80px 0;">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <h1>Welcome to Safar</h1>
                    <p>Your journey begins here</p>
                </div>

                <div class="form-tabs" style="display: flex; margin-bottom: 30px; background: #f8f9fa; border-radius: 50px; padding: 5px;">
                    <button class="tab-btn active" onclick="switchTab('login')" style="flex: 1; padding: 12px 20px; border: none; background: transparent; border-radius: 50px; font-weight: 600; cursor: pointer;">Login</button>
                    <button class="tab-btn" onclick="switchTab('signup')" style="flex: 1; padding: 12px 20px; border: none; background: transparent; border-radius: 50px; font-weight: 600; cursor: pointer;">Sign Up</button>
                </div>

                <div class="auth-form">
                    <!-- Login Form -->
                    <form id="loginForm" class="form-section active" onsubmit="handleLogin(event)">
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="loginEmail" style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 500;">Email Address</label>
                            <input type="email" id="loginEmail" placeholder="Enter your email" required style="width: 100%; padding: 15px 20px; border: 2px solid #eee; border-radius: 50px; font-size: 1rem; outline: none;">
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="loginPassword" style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 500;">Password</label>
                            <input type="password" id="loginPassword" placeholder="Enter your password" required style="width: 100%; padding: 15px 20px; border: 2px solid #eee; border-radius: 50px; font-size: 1rem; outline: none;">
                        </div>
                        <button type="submit" class="auth-btn">Login</button>
                    </form>

                    <!-- Signup Form -->
                    <form id="signupForm" class="form-section" onsubmit="handleSignup(event)" style="display: none;">
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="signupName" style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 500;">Full Name</label>
                            <input type="text" id="signupName" placeholder="Enter your full name" required style="width: 100%; padding: 15px 20px; border: 2px solid #eee; border-radius: 50px; font-size: 1rem; outline: none;">
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="signupEmail" style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 500;">Email Address</label>
                            <input type="email" id="signupEmail" placeholder="Enter your email" required style="width: 100%; padding: 15px 20px; border: 2px solid #eee; border-radius: 50px; font-size: 1rem; outline: none;">
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="signupPassword" style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 500;">Password</label>
                            <input type="password" id="signupPassword" placeholder="Create a password" required style="width: 100%; padding: 15px 20px; border: 2px solid #eee; border-radius: 50px; font-size: 1rem; outline: none;">
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="signupConfirmPassword" style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 500;">Confirm Password</label>
                            <input type="password" id="signupConfirmPassword" placeholder="Confirm your password" required style="width: 100%; padding: 15px 20px; border: 2px solid #eee; border-radius: 50px; font-size: 1rem; outline: none;">
                        </div>
                        <button type="submit" class="auth-btn">Create Account</button>
                    </form>

                    <div class="divider" style="text-align: center; margin: 20px 0; position: relative; color: #666;">
                        <span style="background: var(--white); padding: 0 15px;">or continue with</span>
                    </div>

                    <button class="social-btn" onclick="loginWithGoogle()" style="width: 100%; padding: 12px; border: 2px solid #eee; background: var(--white); border-radius: 50px; font-size: 1rem; cursor: pointer; transition: all 0.3s; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <i class="ri-google-fill"></i> Continue with Google
                    </button>
                    <button class="social-btn" onclick="loginWithFacebook()" style="width: 100%; padding: 12px; border: 2px solid #eee; background: var(--white); border-radius: 50px; font-size: 1rem; cursor: pointer; transition: all 0.3s; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <i class="ri-facebook-fill"></i> Continue with Facebook
                    </button>

                    <div class="auth-links" style="text-align: center; margin-top: 20px;">
                        <a href="#" onclick="forgotPassword()">Forgot Password?</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Video Modal -->
    <div class="video-modal" id="videoModal">
        <div class="video-container">
            <div style="padding: 20px; background: var(--dark); color: var(--white); display: flex; justify-content: space-between; align-items: center; border-radius: var(--radius) var(--radius) 0 0;">
                <h3 id="modalVideoTitle">Travel Vlog</h3>
                <button class="close-modal" onclick="closeVideoModal()" style="background: none; border: none; color: var(--white); font-size: 24px; cursor: pointer;">&times;</button>
            </div>
            <div style="padding: 20px;">
                <iframe id="videoFrame" width="100%" height="400" src="" frameborder="0" allowfullscreen style="border-radius: var(--radius);"></iframe>
                <div style="margin-top: 20px;">
                    <div id="modalVideoAuthor" style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                        <!-- Author info will be populated by JS -->
                    </div>
                    <div id="modalVideoStats" style="display: flex; gap: 20px; margin-bottom: 15px; color: #666;">
                        <!-- Stats will be populated by JS -->
                    </div>
                    <div id="modalVideoDescription" style="margin-bottom: 15px; line-height: 1.6;">
                        <!-- Description will be populated by JS -->
                    </div>
                    <div id="modalVideoTags">
                        <!-- Tags will be populated by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating AI Button -->
    <div class="ai-fab" onclick="document.getElementById('ai-guide').scrollIntoView({behavior: 'smooth'})">
        <i class="ri-robot-line"></i>
    </div>

    <!-- Footer -->
    <footer style="background: var(--dark); color: var(--white); padding: 40px 0; margin-top: 80px;">
        <div class="container" style="text-align: center;">
            <p>&copy; 2026 Safar.com. Explore the world confidently.</p>
        </div>
    </footer>

    <script>
// Safar.com - Complete JavaScript Code

/**
 * Safar.com - Mock Data
 * Stores all destination details, prices, and travel info.
 */

const DESTINATIONS = {
    kerala: {
        id: "kerala",
        name: "Kerala",
        tagline: "God's Own Country",
        type: ["Family", "Honeymoon", "Nature", "Luxury"],
        budget: "Medium",
        description: "Famous for its backwaters, tea plantations, and beaches. A perfect relaxing getaway.",
        bestTime: "October - March",
        badTime: "June - August (Heavy Rain)",
        stateImage: "https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1632&q=80",
        languages: [
            {
                name: "Malayalam",
                phrases: [
                    { original: "Hello", translated: "Namaskaram", audio: "namaskaram.mp3" },
                    { original: "How much?", translated: "Ethra roopa?", audio: "ethra.mp3" },
                    { original: "Food", translated: "Bakshanam", audio: "food.mp3" },
                    { original: "Water", translated: "Vellam", audio: "water.mp3" }
                ]
            }
        ],
        food: [
            { dish: "Appam with Stew", price: "₹60–120", veg: true, image: "https://source.unsplash.com/400x300/?appam" },
            { dish: "Karimeen Pollichathu", price: "₹300–500", veg: false, image: "https://source.unsplash.com/400x300/?fishcurry" },
            { dish: "Puttu and Kadala", price: "₹50–100", veg: true, image: "https://source.unsplash.com/400x300/?keralafood" }
        ],
        expenses: {
            stay: 1500, // Avg per night
            food: 600,  // Avg per day
            transport: 400,
            activities: 300
        },
        vlogs: [
            { title: "Kerala Backwaters Budget Trip", embedId: "RzVvThhjAKw" },
            { title: "Kerala Food Tour", embedId: "1Zg3_K6qbHI" }
        ]
    },
    rajasthan: {
        id: "rajasthan",
        name: "Rajasthan",
        tagline: "Land of Kings",
        type: ["History", "Culture", "Luxury", "Family"],
        budget: "Medium",
        description: "Experience royal palaces, vast deserts, and vibrant culture.",
        bestTime: "October - February",
        badTime: "April - June (Extreme Heat)",
        stateImage: "https://images.unsplash.com/photo-1524492412937-b28074a5d7da?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1631&q=80",
        languages: [
            {
                name: "Hindi / Rajasthani",
                phrases: [
                    { original: "Hello", translated: "Khamma Ghani", audio: "khamma.mp3" },
                    { original: "How are you?", translated: "Aap kaise ho?", audio: "kaise.mp3" }
                ]
            }
        ],
        food: [
            { dish: "Dal Baati Churma", price: "₹150–300", veg: true, image: "https://source.unsplash.com/400x300/?indianfood" },
            { dish: "Laal Maas", price: "₹350–600", veg: false, image: "https://source.unsplash.com/400x300/?curry" }
        ],
        expenses: {
            stay: 1200,
            food: 500,
            transport: 300,
            activities: 500
        },
        vlogs: [
            { title: "Jaipur Budget Guide", embedId: "Yi8izF4l7lE" }
        ]
    },
    goa: {
        id: "goa",
        name: "Goa",
        tagline: "Beaches & Parties",
        type: ["Solo", "Adventure", "Party", "Honeymoon"],
        budget: "Low",
        description: "Sun, sand, and sea. The party capital of India.",
        bestTime: "November - February",
        badTime: "June - September (Monsoon)",
        stateImage: "https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1631&q=80",
        languages: [
            {
                name: "Konkani",
                phrases: [
                    { original: "Hello", translated: "Deo boro dis div", audio: "hello.mp3" }
                ]
            }
        ],
        food: [
            { dish: "Fish Curry Rice", price: "₹150–250", veg: false, image: "https://source.unsplash.com/400x300/?fishcurry" },
            { dish: "Vindaloo", price: "₹250–400", veg: false, image: "https://source.unsplash.com/400x300/?pork" }
        ],
        expenses: {
            stay: 1000,
            food: 800,
            transport: 200,
            activities: 200
        },
        vlogs: [
            { title: "North Goa vs South Goa", embedId: "M1M2M3M4" }
        ]
    },
    himachal: {
        id: "himachal",
        name: "Himachal Pradesh",
        tagline: "Mountains Calling",
        type: ["Adventure", "Nature", "Solo", "Honeymoon"],
        budget: "Low",
        description: "Snow-capped mountains, trekking trails, and peaceful vibes.",
        bestTime: "March - June, September - December",
        badTime: "July - August (Landslides)",
        stateImage: "https://images.unsplash.com/photo-1626621341517-bbf3d9990a23?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1632&q=80",
        languages: [
            {
                name: "Hindi / Pahari",
                phrases: [
                    { original: "Hello", translated: "Namaste", audio: "namaste.mp3" }
                ]
            }
        ],
        food: [
            { dish: "Siddu", price: "₹50–100", veg: true, image: "https://source.unsplash.com/400x300/?bread" },
            { dish: "Maggi", price: "₹40–60", veg: true, image: "https://source.unsplash.com/400x300/?noodles" }
        ],
        expenses: {
            stay: 800,
            food: 400,
            transport: 300,
            activities: 100
        },
        vlogs: []
    }
};

const TRAVEL_TYPES = ["Solo", "Family", "Adventure", "Honeymoon", "Luxury", "History"];

// Travel Vlogs and User Content
const TRAVEL_VLOGS = [
    {
        id: "vlog_001",
        title: "Hidden Gems of Kerala Backwaters - Local Guide",
        description: "Join Rajesh, a local fisherman, as he takes us through lesser-known backwater routes and shares authentic Kerala experiences.",
        destination: "kerala",
        type: "local-insider",
        author: {
            name: "Rajesh Kumar",
            avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "local",
            location: "Alleppey, Kerala"
        },
        thumbnail: "https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/RzVvThhjAKw",
        duration: "12:34",
        views: 15420,
        likes: 892,
        uploadDate: "2026-01-15",
        tags: ["backwaters", "local-guide", "authentic", "houseboat"],
        featured: true
    },
    {
        id: "vlog_002",
        title: "Budget Travel in Rajasthan - 7 Days Under ₹5000",
        description: "Complete itinerary for budget travelers visiting Jaipur, Jodhpur, and Udaipur. Including street food, local transport, and accommodation tips.",
        destination: "rajasthan",
        type: "budget-travel",
        author: {
            name: "Priya Sharma",
            avatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "traveler",
            location: "Delhi, India"
        },
        thumbnail: "https://images.unsplash.com/photo-1524492412937-b28074a5d7da?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/Yi8izF4l7lE",
        duration: "18:45",
        views: 28340,
        likes: 1245,
        uploadDate: "2026-01-20",
        tags: ["budget", "itinerary", "street-food", "palaces"],
        featured: true
    },
    {
        id: "vlog_003",
        title: "Goa's Best Beach Shacks - Local Recommendations",
        description: "Maria, a Goan local, shares her favorite beach shacks, authentic seafood recipes, and the real Goa beyond the tourist spots.",
        destination: "goa",
        type: "food-tour",
        author: {
            name: "Maria Fernandes",
            avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "local",
            location: "Calangute, Goa"
        },
        thumbnail: "https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/M1M2M3M4",
        duration: "15:22",
        views: 9876,
        likes: 567,
        uploadDate: "2026-01-25",
        tags: ["food", "beaches", "local-cuisine", "seafood"],
        featured: true
    },
    {
        id: "vlog_004",
        title: "Trekking in Himachal - Local Trails & Safety Tips",
        description: "Aman, a local trekking guide, shows us safe trekking routes in Himachal Pradesh and shares essential safety precautions for mountain adventures.",
        destination: "himachal",
        type: "adventure",
        author: {
            name: "Aman Thakur",
            avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "local",
            location: "Manali, Himachal Pradesh"
        },
        thumbnail: "https://images.unsplash.com/photo-1626621341517-bbf3d9990a23?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/N1N2N3N4",
        duration: "20:15",
        views: 15670,
        likes: 934,
        uploadDate: "2026-01-28",
        tags: ["trekking", "mountains", "safety", "adventure"],
        featured: false
    },
    {
        id: "vlog_005",
        title: "Cultural Festivals of Rajasthan - Holi Special",
        description: "Experience the vibrant colors and traditions of Holi festival in Rajasthan. A cultural journey through local celebrations and traditions.",
        destination: "rajasthan",
        type: "cultural",
        author: {
            name: "Vikram Singh",
            avatar: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "traveler",
            location: "Jaipur, Rajasthan"
        },
        thumbnail: "https://images.unsplash.com/photo-1582515073490-39981397c445?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/O1O2O3O4",
        duration: "14:30",
        views: 22150,
        likes: 1189,
        uploadDate: "2026-01-30",
        tags: ["festival", "culture", "holi", "traditions"],
        featured: false
    },
    {
        id: "vlog_006",
        title: "Kerala Ayurveda & Wellness Retreat",
        description: "Discover authentic Ayurvedic treatments and wellness practices in Kerala. Local experts share traditional healing methods and spa experiences.",
        destination: "kerala",
        type: "local-insider",
        author: {
            name: "Dr. Lakshmi Nair",
            avatar: "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "local",
            location: "Kovalam, Kerala"
        },
        thumbnail: "https://images.unsplash.com/photo-1544161515-4ab6ce6db874?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/P1P2P3P4",
        duration: "16:45",
        views: 12340,
        likes: 756,
        uploadDate: "2026-02-01",
        tags: ["ayurveda", "wellness", "spa", "traditional-medicine"],
        featured: false
    },
    {
        id: "vlog_007",
        title: "Goa Nightlife - Local vs Tourist Perspective",
        description: "A balanced view of Goa's nightlife scene from both local and tourist perspectives. Safe partying tips and authentic experiences.",
        destination: "goa",
        type: "local-insider",
        author: {
            name: "Carlos Rodrigues",
            avatar: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "local",
            location: "Panaji, Goa"
        },
        thumbnail: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/Q1Q2Q3Q4",
        duration: "13:20",
        views: 18750,
        likes: 892,
        uploadDate: "2026-02-02",
        tags: ["nightlife", "party", "safety", "local-culture"],
        featured: false
    },
    {
        id: "vlog_008",
        title: "Himachal Pradesh Homestays - Living with Locals",
        description: "Experience authentic Himachali culture by staying in local homestays. Learn about local customs, cuisine, and mountain life.",
        destination: "himachal",
        type: "cultural",
        author: {
            name: "Sneha Patel",
            avatar: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80",
            type: "traveler",
            location: "Mumbai, India"
        },
        thumbnail: "https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        videoUrl: "https://www.youtube.com/embed/R1R2R3R4",
        duration: "17:10",
        views: 9450,
        likes: 623,
        uploadDate: "2026-02-03",
        tags: ["homestay", "culture", "local-life", "mountains"],
        featured: false
    }
];

/**
 * Safar.com - Main Application Logic
 */

document.addEventListener('DOMContentLoaded', () => {
    // 1. Populate Datalist in Search Bar
    const distList = document.getElementById('destinationsList');
    if (distList && typeof DESTINATIONS !== 'undefined') {
        Object.values(DESTINATIONS).forEach(dest => {
            const option = document.createElement('option');
            option.value = dest.name;
            distList.appendChild(option);
        });
    }

    // 2. Populate Popular Destinations (Home Page)
    const featuredGrid = document.getElementById('popularDestinations');
    if (featuredGrid && typeof DESTINATIONS !== 'undefined') {
        const featured = Object.values(DESTINATIONS).slice(0, 3);

        featured.forEach(dest => {
            const card = document.createElement('div');
            card.className = 'card destination-card';
            const bgImage = dest.stateImage || `https://source.unsplash.com/600x400/?${dest.name},travel`;

            card.innerHTML = `
                <div class="card-image" style="height: 200px; overflow: hidden;">
                    <img src="${bgImage}" alt="${dest.name}" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="card-content" style="padding: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <h3>${dest.name}</h3>
                        <span style="background: #e3f2fd; color: var(--primary); padding: 4px 10px; border-radius: 20px; font-size: 0.8rem;">${dest.budget}</span>
                    </div>
                    <p style="color: #666; font-size: 0.9rem; margin-bottom: 15px;">${dest.tagline}</p>
                    <a href="#planner" class="btn btn-secondary" style="width: 100%; text-align: center;">Explore</a>
                </div>
            `;
            featuredGrid.appendChild(card);
        });
    }

    // Initialize other components
    initializeVlogs();
    updateNavigation(localStorage.getItem('userLoggedIn') === 'true', localStorage.getItem('userName'));
});

/**
 * Safar.com - Authentication Functionality
 */

function switchTab(tabName) {
    // Update tab buttons
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');

    // Update form sections
    document.querySelectorAll('.form-section').forEach(section => {
        section.style.display = 'none';
    });
    document.getElementById(tabName + 'Form').style.display = 'block';
}

function handleLogin(event) {
    event.preventDefault();

    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;

    // Simple validation
    if (!email || !password) {
        alert('Please fill in all fields');
        return;
    }

    // Mock login - in real app, this would call an API
    if (email === 'demo@safar.com' && password === 'demo123') {
        // Store login state
        localStorage.setItem('userLoggedIn', 'true');
        localStorage.setItem('userName', 'John Doe');
        localStorage.setItem('userEmail', email);

        alert('Login successful! Welcome back to Safar!');
        document.getElementById('login').style.display = 'none';
        updateNavigation(true, 'John Doe');
    } else {
        alert('Invalid email or password. Try demo@safar.com / demo123');
    }
}

function handleSignup(event) {
    event.preventDefault();

    const name = document.getElementById('signupName').value;
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('signupConfirmPassword').value;

    // Validation
    if (!name || !email || !password || !confirmPassword) {
        alert('Please fill in all fields');
        return;
    }

    if (password !== confirmPassword) {
        alert('Passwords do not match');
        return;
    }

    if (password.length < 6) {
        alert('Password must be at least 6 characters long');
        return;
    }

    // Mock signup - in real app, this would call an API
    localStorage.setItem('userLoggedIn', 'true');
    localStorage.setItem('userName', name);
    localStorage.setItem('userEmail', email);

    alert('Account created successfully! Welcome to Safar!');
    document.getElementById('login').style.display = 'none';
    updateNavigation(true, name);
}

function loginWithGoogle() {
    alert('Google login would be implemented here. For demo, use demo@safar.com / demo123');
}

function loginWithFacebook() {
    alert('Facebook login would be implemented here. For demo, use demo@safar.com / demo123');
}

function forgotPassword() {
    const email = prompt('Enter your email address:');
    if (email) {
        alert('Password reset link sent to ' + email);
    }
}

function updateNavigation(isLoggedIn, userName) {
    const navLinks = document.querySelector('.nav-links');
    if (!navLinks) return;

    const loginLink = navLinks.querySelector('a[href="#login"]');
    const profileLink = navLinks.querySelector('a[href="#profile"]');

    if (isLoggedIn) {
        // User is logged in
        if (loginLink) {
            loginLink.innerHTML = `<i class="ri-logout-box-line"></i> Logout`;
            loginLink.href = '#';
            loginLink.onclick = handleLogout;
        }
        if (profileLink && userName) {
            profileLink.innerHTML = `<i class="ri-user-line"></i> ${userName}`;
        }
    } else {
        // User is not logged in
        if (loginLink) {
            loginLink.innerHTML = `<i class="ri-login-box-line"></i> Login`;
            loginLink.href = '#login';
            loginLink.onclick = null;
        }
        if (profileLink) {
            profileLink.innerHTML = `<i class="ri-user-line"></i> Profile`;
        }
    }
}

function handleLogout() {
    if (confirm('Are you sure you want to logout?')) {
        localStorage.removeItem('userLoggedIn');
        localStorage.removeItem('userName');
        localStorage.removeItem('userEmail');
        updateNavigation(false, null);
    }
}

/**
 * Safar.com - Trip Planner Functionality
 */

document.getElementById('tripForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const destination = document.getElementById('destination').value;
    const duration = parseInt(document.getElementById('duration').value);
    const travelType = document.getElementById('travelType').value;
    const budget = document.getElementById('budget').value;
    const interests = document.getElementById('interests').value;

    generateItinerary(destination, duration, travelType, budget, interests);
});

function generateItinerary(destination, duration, travelType, budget, interests) {
    const itineraryDisplay = document.getElementById('itineraryDisplay');
    const itineraryContent = document.getElementById('itineraryContent');

    // Get destination data
    const destKey = destination.toLowerCase().replace(/\s+/g, '');
    const destData = DESTINATIONS[destKey];

    let itineraryHtml = '';

    // Generate day-by-day itinerary
    for (let day = 1; day <= duration; day++) {
        itineraryHtml += generateDayPlan(day, destination, travelType, budget, interests, destData);
    }

    // Add budget summary
    itineraryHtml += generateBudgetSummary(duration, budget, destData);

    itineraryContent.innerHTML = itineraryHtml;
    itineraryDisplay.style.display = 'block';

    // Smooth scroll to results
    itineraryDisplay.scrollIntoView({ behavior: 'smooth' });
}

function generateDayPlan(day, destination, travelType, budget, interests, destData) {
    const activities = getActivitiesForDay(day, destination, travelType, interests);

    let html = `
        <div style="background: var(--white); border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 20px; overflow: hidden;">
            <h3 style="background: var(--primary); color: var(--white); padding: 15px 20px; margin: 0;"><i class="ri-calendar-line"></i> Day ${day}</h3>
    `;

    activities.forEach(activity => {
        html += `
            <div style="padding: 15px 20px; border-bottom: 1px solid #eee;">
                <i class="${activity.icon}" style="color: var(--primary); margin-right: 10px;"></i>
                <div style="display: inline-block;">
                    <strong>${activity.title}</strong>
                    <p style="margin: 5px 0; color: #666;">${activity.description}</p>
                    <small style="color: var(--primary);">Estimated cost: ₹${activity.cost}</small>
                </div>
            </div>
        `;
    });

    html += '</div>';
    return html;
}

function getActivitiesForDay(day, destination, travelType, interests) {
    const activities = [];

    // Sample activities based on destination and day
    const baseActivities = {
        kerala: [
            { title: "Backwater Cruise", description: "Relaxing boat ride through serene backwaters", icon: "ri-ship-line", cost: "800" },
            { title: "Tea Plantation Visit", description: "Explore Munnar tea estates", icon: "ri-leaf-line", cost: "300" },
            { title: "Local Food Tour", description: "Try authentic Kerala cuisine", icon: "ri-restaurant-line", cost: "400" },
            { title: "Cultural Performance", description: "Watch traditional Kathakali dance", icon: "ri-dance-line", cost: "200" }
        ],
        goa: [
            { title: "Beach Time", description: "Relax at beautiful beaches", icon: "ri-sun-line", cost: "100" },
            { title: "Water Sports", description: "Try parasailing or jet skiing", icon: "ri-sailboat-line", cost: "1000" },
            { title: "Seafood Dinner", description: "Fresh seafood at beach shack", icon: "ri-restaurant-line", cost: "600" },
            { title: "Night Market", description: "Explore local markets and shops", icon: "ri-shopping-bag-line", cost: "200" }
        ],
        rajasthan: [
            { title: "Palace Visit", description: "Explore royal palaces and forts", icon: "ri-building-line", cost: "500" },
            { title: "Desert Safari", description: "Camel ride in the Thar desert", icon: "ri-sun-line", cost: "700" },
            { title: "Cultural Dance", description: "Watch folk dance performances", icon: "ri-dance-line", cost: "300" },
            { title: "Local Bazaar", description: "Shop for handicrafts and textiles", icon: "ri-shopping-bag-line", cost: "400" }
        ]
    };

    const destKey = destination.toLowerCase().replace(/\s+/g, '');
    const destActivities = baseActivities[destKey] || baseActivities.kerala;

    // Return 2-3 activities per day
    const startIndex = (day - 1) % destActivities.length;
    return destActivities.slice(startIndex, startIndex + 3);
}

function generateBudgetSummary(duration, budget, destData) {
    const dailyBudget = parseInt(budget);
    const totalBudget = dailyBudget * duration;

    let html = `
        <div style="background: linear-gradient(135deg, var(--primary), #FF5722); color: white; border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 20px; overflow: hidden;">
            <h3 style="padding: 15px 20px; margin: 0;"><i class="ri-money-rupee-circle-line"></i> Budget Summary</h3>
            <div style="padding: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>Per Day: ₹${dailyBudget.toLocaleString()}</h4>
                    <p>Stay: ₹${Math.round(dailyBudget * 0.4).toLocaleString()}</p>
                    <p>Food: ₹${Math.round(dailyBudget * 0.3).toLocaleString()}</p>
                    <p>Activities: ₹${Math.round(dailyBudget * 0.2).toLocaleString()}</p>
                    <p>Transport: ₹${Math.round(dailyBudget * 0.1).toLocaleString()}</p>
                </div>
                <div>
                    <h4>Total for ${duration} days: ₹${totalBudget.toLocaleString()}</h4>
                    <p style="margin-top: 10px; font-size: 0.9em;">
                        This is an estimate. Actual costs may vary based on your choices and season.
                    </p>
                </div>
            </div>
        </div>
    `;

    return html;
}

// Pre-fill destination from URL parameters
document.addEventListener('DOMContentLoaded', () => {
    const params = new URLSearchParams(window.location.search);
    const destParam = params.get('dest');
    if (destParam) {
        document.getElementById('destination').value = destParam;
    }
});

/**
 * Safar.com - AI Chat Functionality
 */

function sendMessage(message) {
    addMessage(message, 'user');
    // Simulate AI response
    setTimeout(() => {
        const response = getAIResponse(message);
        addMessage(response, 'bot');
    }, 1000);
}

function sendMessageFromInput(event) {
    event.preventDefault();
    const input = document.getElementById('messageInput');
    const message = input.value.trim();
    if (message) {
        sendMessage(message);
        input.value = '';
    }
}

function addMessage(text, sender) {
    const chatMessages = document.getElementById('chatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.style.cssText = `
        margin-bottom: 15px;
        padding: 10px 15px;
        border-radius: 18px;
        max-width: 80%;
        ${sender === 'user' ? 'margin-left: auto; background: var(--primary); color: white;' : 'margin-right: auto; background: #f0f0f0;'}
    `;

    if (sender === 'bot') {
        messageDiv.innerHTML = `<strong>Safar AI:</strong> ${text}`;
    } else {
        messageDiv.textContent = text;
    }

    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function getAIResponse(message) {
    const lowerMessage = message.toLowerCase();

    // Simple keyword-based responses
    if (lowerMessage.includes('goa') && lowerMessage.includes('beach')) {
        return "Goa has amazing beaches! Anjuna, Baga, and Calangute are popular. For a more relaxed vibe, try Palolem or Agonda. Best time to visit is November-February. Budget around ₹2,000-4,000 per day including stay and food.";
    }

    if (lowerMessage.includes('kerala') && lowerMessage.includes('budget')) {
        return "A Kerala trip can cost ₹1,500-3,000 per day. Backwater houseboat stays are around ₹2,000-5,000 per person. Food is affordable (₹200-400/meal). Best to visit October-March for pleasant weather.";
    }

    if (lowerMessage.includes('rajasthan') && lowerMessage.includes('time') || lowerMessage.includes('weather')) {
        return "Best time to visit Rajasthan is October-February when temperatures are mild (15-25°C). Avoid April-June (extremely hot, up to 45°C) and July-September (monsoon). December-February can be cooler in desert areas.";
    }

    if (lowerMessage.includes('family')) {
        return "For family trips, I recommend Kerala (backwaters and houseboats), Goa (beaches and resorts), or Himachal Pradesh (hill stations). These destinations offer safe, comfortable travel with activities for all ages.";
    }

    if (lowerMessage.includes('budget') || lowerMessage.includes('cheap') || lowerMessage.includes('affordable')) {
        return "For budget travel in India, consider Goa, Himachal Pradesh, or Kerala. Daily costs can be kept under ₹2,000 including stay, food, and local transport. Use local buses, stay in guesthouses, and eat at local restaurants.";
    }

    if (lowerMessage.includes('food') || lowerMessage.includes('eat')) {
        return "Indian cuisine varies by region! In Kerala, try appam with fish curry. Rajasthan offers dal baati churma. Goa has amazing seafood. Always try local street food, but choose clean establishments. Most dishes are vegetarian-friendly.";
    }

    // Default responses
    const defaultResponses = [
        "That's an interesting question! Let me help you with that. What specific destination are you planning to visit?",
        "I'd be happy to help with your travel plans. Could you tell me more about what you're looking for?",
        "Great question! I can provide information about destinations, budgets, itineraries, and local tips. What would you like to know?",
        "Travel planning is exciting! I can help you find the perfect destination based on your preferences, budget, and travel style."
    ];

    return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
}

/**
 * Vlogs Page JavaScript
 */
class VlogsManager {
    constructor() {
        this.vlogs = TRAVEL_VLOGS;
        this.filteredVlogs = [...this.vlogs];
        this.currentFilter = 'all';
        this.currentSort = 'latest';
        this.currentVideo = null;
        this.init();
    }

    init() {
        this.renderVlogs();
        this.setupEventListeners();
        this.updateStats();
    }

    setupEventListeners() {
        // Filter buttons
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                this.setFilter(e.target.dataset.filter);
            });
        });

        // Sort dropdown
        const sortSelect = document.getElementById('sortSelect');
        if (sortSelect) {
            sortSelect.addEventListener('change', (e) => {
                this.setSort(e.target.value);
            });
        }

        // Search functionality
        const searchInput = document.getElementById('vlogSearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                this.searchVlogs(e.target.value);
            });
        }

        // Video modal
        const modal = document.getElementById('videoModal');
        const closeBtn = modal?.querySelector('.close-modal');

        if (closeBtn) {
            closeBtn.addEventListener('click', () => this.closeVideoModal());
        }

        if (modal) {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) this.closeVideoModal();
            });
        }

        // Upload modal
        const uploadBtn = document.getElementById('uploadBtn');
        const uploadModal = document.getElementById('uploadModal');
        const closeUploadBtn = uploadModal?.querySelector('.close-modal');

        if (uploadBtn) {
            uploadBtn.addEventListener('click', () => this.openUploadModal());
        }

        if (closeUploadBtn) {
            closeUploadBtn.addEventListener('click', () => this.closeUploadModal());
        }

        if (uploadModal) {
            uploadModal.addEventListener('click', (e) => {
                if (e.target === uploadModal) this.closeUploadModal();
            });
        }

        // Upload form
        const uploadForm = document.getElementById('uploadForm');
        if (uploadForm) {
            uploadForm.addEventListener('submit', (e) => this.handleUpload(e));
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                this.closeVideoModal();
                this.closeUploadModal();
            }
        });
    }

    renderVlogs() {
        const container = document.getElementById('vlogsContainer');
        if (!container) return;

        container.innerHTML = this.filteredVlogs.map(vlog => this.createVlogCard(vlog)).join('');

        // Add click listeners to video cards
        container.querySelectorAll('.vlog-card').forEach(card => {
            card.addEventListener('click', () => {
                const vlogId = card.dataset.vlogId;
                this.openVideoModal(vlogId);
            });
        });
    }

    createVlogCard(vlog) {
        const authorTypeClass = vlog.author.type === 'local' ? 'local-badge' : 'traveler-badge';
        const authorTypeText = vlog.author.type === 'local' ? 'Local Guide' : 'Traveler';

        return `
            <div class="vlog-card" data-vlog-id="${vlog.id}">
                <div class="vlog-thumbnail">
                    <img src="${vlog.thumbnail}" alt="${vlog.title}" loading="lazy">
                    <div class="vlog-duration">${vlog.duration}</div>
                    <div class="vlog-play-overlay">
                        <i class="ri-play-circle-fill"></i>
                    </div>
                    ${vlog.featured ? '<div class="featured-badge"><i class="ri-star-fill"></i> Featured</div>' : ''}
                </div>
                <div class="vlog-content">
                    <div class="vlog-author">
                        <img src="${vlog.author.avatar}" alt="${vlog.author.name}" class="author-avatar">
                        <div class="author-info">
                            <span class="author-name">${vlog.author.name}</span>
                            <span class="author-location">${vlog.author.location}</span>
                        </div>
                        <span class="author-type ${authorTypeClass}">${authorTypeText}</span>
                    </div>
                    <h3 class="vlog-title">${vlog.title}</h3>
                    <p class="vlog-description">${vlog.description}</p>
                    <div class="vlog-meta">
                        <span class="vlog-views"><i class="ri-eye-line"></i> ${this.formatNumber(vlog.views)}</span>
                        <span class="vlog-likes"><i class="ri-heart-line"></i> ${this.formatNumber(vlog.likes)}</span>
                        <span class="vlog-date">${this.formatDate(vlog.uploadDate)}</span>
                    </div>
                    <div class="vlog-tags">
                        ${vlog.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
            </div>
        `;
    }

    setFilter(filter) {
        this.currentFilter = filter;

        // Update active button
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.filter === filter);
        });

        // Apply filter
        if (filter === 'all') {
            this.filteredVlogs = [...this.vlogs];
        } else if (filter === 'featured') {
            this.filteredVlogs = this.vlogs.filter(vlog => vlog.featured);
        } else if (filter === 'local') {
            this.filteredVlogs = this.vlogs.filter(vlog => vlog.author.type === 'local');
        } else {
            this.filteredVlogs = this.vlogs.filter(vlog => vlog.type === filter);
        }

        this.applySort();
        this.renderVlogs();
        this.updateStats();
    }

    setSort(sortType) {
        this.currentSort = sortType;
        this.applySort();
        this.renderVlogs();
    }

    applySort() {
        this.filteredVlogs.sort((a, b) => {
            switch (this.currentSort) {
                case 'latest':
                    return new Date(b.uploadDate) - new Date(a.uploadDate);
                case 'popular':
                    return b.views - a.views;
                case 'liked':
                    return b.likes - a.likes;
                case 'oldest':
                    return new Date(a.uploadDate) - new Date(b.uploadDate);
                default:
                    return 0;
            }
        });
    }

    searchVlogs(query) {
        if (!query.trim()) {
            this.filteredVlogs = [...this.vlogs];
        } else {
            const searchTerm = query.toLowerCase();
            this.filteredVlogs = this.vlogs.filter(vlog =>
                vlog.title.toLowerCase().includes(searchTerm) ||
                vlog.description.toLowerCase().includes(searchTerm) ||
                vlog.author.name.toLowerCase().includes(searchTerm) ||
                vlog.tags.some(tag => tag.toLowerCase().includes(searchTerm)) ||
                vlog.destination.toLowerCase().includes(searchTerm)
            );
        }

        this.applySort();
        this.renderVlogs();
        this.updateStats();
    }

    openVideoModal(vlogId) {
        const vlog = this.vlogs.find(v => v.id === vlogId);
        if (!vlog) return;

        this.currentVideo = vlog;
        const modal = document.getElementById('videoModal');
        const videoFrame = document.getElementById('videoFrame');
        const videoTitle = document.getElementById('modalVideoTitle');
        const videoAuthor = document.getElementById('modalVideoAuthor');
        const videoStats = document.getElementById('modalVideoStats');
        const videoDescription = document.getElementById('modalVideoDescription');
        const videoTags = document.getElementById('modalVideoTags');

        if (modal && videoFrame && videoTitle && videoAuthor && videoStats && videoDescription && videoTags) {
            videoFrame.src = vlog.videoUrl;
            videoTitle.textContent = vlog.title;
            videoAuthor.innerHTML = `
                <img src="${vlog.author.avatar}" alt="${vlog.author.name}" style="width: 40px; height: 40px; border-radius: 50%; margin-right: 12px;">
                <div>
                    <span style="font-weight: 600; color: var(--dark);">${vlog.author.name}</span>
                    <span style="color: #666; font-size: 14px;">${vlog.author.location}</span>
                </div>
            `;
            videoStats.innerHTML = `
                <span><i class="ri-eye-line"></i> ${this.formatNumber(vlog.views)} views</span>
                <span><i class="ri-heart-line"></i> ${this.formatNumber(vlog.likes)} likes</span>
                <span><i class="ri-calendar-line"></i> ${this.formatDate(vlog.uploadDate)}</span>
            `;
            videoDescription.textContent = vlog.description;
            videoTags.innerHTML = vlog.tags.map(tag => `<span style="display: inline-block; background: #eee; color: var(--primary); padding: 4px 12px; border-radius: 20px; font-size: 12px; margin: 5px 5px 0 0;">${tag}</span>`).join('');

            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';

            // Increment view count (in real app, this would be server-side)
            vlog.views++;
            this.updateStats();
        }
    }

    closeVideoModal() {
        const modal = document.getElementById('videoModal');
        const videoFrame = document.getElementById('videoFrame');

        if (modal) {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        if (videoFrame) {
            videoFrame.src = '';
        }

        this.currentVideo = null;
    }

    openUploadModal() {
        const modal = document.getElementById('uploadModal');
        if (modal) {
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
    }

    closeUploadModal() {
        const modal = document.getElementById('uploadModal');
        if (modal) {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    }

    handleUpload(e) {
        e.preventDefault();

        const formData = new FormData(e.target);
        const newVlog = {
            id: `vlog_${Date.now()}`,
            title: formData.get('title'),
            description: formData.get('description'),
            destination: formData.get('destination'),
            type: formData.get('type'),
            author: {
                name: currentUser ? currentUser.name : 'Anonymous User',
                avatar: currentUser ? currentUser.avatar : 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80',
                type: 'traveler',
                location: currentUser ? currentUser.location : 'Unknown'
            },
            thumbnail: 'https://images.unsplash.com/photo-1615840287214-7ff58936c4cf?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80', // Placeholder
            videoUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ', // Placeholder
            duration: '00:00',
            views: 0,
            likes: 0,
            uploadDate: new Date().toISOString().split('T')[0],
            tags: formData.get('tags').split(',').map(tag => tag.trim()),
            featured: false
        };

        // Add to vlogs array (in real app, this would be sent to server)
        this.vlogs.unshift(newVlog);
        this.filteredVlogs = [...this.vlogs];
        this.applySort();
        this.renderVlogs();
        this.updateStats();

        // Show success message
        this.showNotification('Video uploaded successfully!', 'success');

        // Close modal and reset form
        this.closeUploadModal();
        e.target.reset();
    }

    updateStats() {
        const totalVlogs = document.getElementById('totalVlogs');
        const totalViews = document.getElementById('totalViews');
        const totalLikes = document.getElementById('totalLikes');

        if (totalVlogs) totalVlogs.textContent = this.filteredVlogs.length;
        if (totalViews) totalViews.textContent = this.formatNumber(this.filteredVlogs.reduce((sum, vlog) => sum + vlog.views, 0));
        if (totalLikes) totalLikes.textContent = this.formatNumber(this.filteredVlogs.reduce((sum, vlog) => sum + vlog.likes, 0));
    }

    showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${type === 'success' ? 'var(--success)' : 'var(--primary)'};
            color: var(--white);
            padding: 15px 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
        `;
        notification.innerHTML = `
            <i class="ri-${type === 'success' ? 'check' : 'information'}-line"></i>
            <span>${message}</span>
        `;

        document.body.appendChild(notification);

        setTimeout(() => {
            notification.remove();
        }, 3000);
    }

    formatNumber(num) {
        if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
        if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
        return num.toString();
    }

    formatDate(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diffTime = Math.abs(now - date);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

        if (diffDays === 1) return 'Today';
        if (diffDays === 2) return 'Yesterday';
        if (diffDays <= 7) return `${diffDays - 1} days ago`;
        if (diffDays <= 30) return `${Math.ceil(diffDays / 7)} weeks ago`;
        if (diffDays <= 365) return `${Math.ceil(diffDays / 30)} months ago`;
        return `${Math.ceil(diffDays / 365)} years ago`;
    }
}

// Initialize vlogs manager when DOM is loaded
function initializeVlogs() {
    if (document.getElementById('vlogsContainer')) {
        window.vlogsManager = new VlogsManager();
    }
}

// Smooth scrolling for navigation links
document.querySelectorAll('.nav-links a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth'
            });
        }
    });
});
    </script>
</body>
</html>